<!DOCTYPE html>
<html>
<head>
    <title>Battleships - by Mark Heaver</title>
    <script type="text/javascript" src="Scripts/JS/BattleshipConcat.js"></script>
	<meta charset="utf-8" />
</head>
<body onload="setupUIBindings()">

<h1>Battleships</h1>

<div>
    <label for="shotCoordinates">Shoot at: </label><input type="text" id="shotCoordinates"/> <input type="button" id="shootButton" value="Shoot!"/>
</div>

<div id="shotResult"></div>


<script type="text/javascript">
    var game = new Battleships.BattleshipsGame();
    var targetInput, shootbutton, shotResult;

    function setupUIBindings() {
        targetInput = document.getElementById('shotCoordinates');
        shootbutton = document.getElementById('shootButton');
        shotResult = document.getElementById('shotResult');

        shootbutton.addEventListener('click', function () {
            var shootAt = targetInput.value;
            var result = game.takeShot(shootAt);
            shotResult.textContent = result;
            targetInput.value = "";
            if (game.allShipsDestroyed()) {
                gameOver();
            }
        });
    }

    function gameOver() {
        targetInput.disabled = true;
        shootbutton.disabled = true;
        shotResult.textContent = "Congratulations! you have sunk all of the ships!";
    }


</script>
</body>
</html>
